"use strict";(self.webpackChunkangular_vehicle_reservation_system=self.webpackChunkangular_vehicle_reservation_system||[]).push([[404],{3404:(O,d,a)=>{a.r(d),a.d(d,{AuthModule:()=>k});var u=a(6895),m=a(7699),t=a(433),e=a(1571),p=a(2542);function f(n,c){1&n&&(e.TgZ(0,"div",20),e._uU(1," Correo electr\xf3nico inv\xe1lido. "),e.qZA())}function h(n,c){1&n&&(e.TgZ(0,"div",20),e._uU(1," Contrase\xf1a inv\xe1lida. "),e.qZA())}function b(n,c){if(1&n&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&n){const r=e.oxw();e.xp6(1),e.hij(" ",r.errorSessionMessage," ")}}let v=(()=>{class n{constructor(r){this.authService=r,this.errorSessionMessage="",this.errorSession=!1,this.formLogin=new t.cw({})}ngOnInit(){this.formLogin=new t.cw({email:new t.NI("",[t.kI.required,t.kI.email]),password:new t.NI("",[t.kI.required,t.kI.minLength(6),t.kI.maxLength(12)]),terms:new t.NI(!1,[t.kI.requiredTrue])})}sendLogin(){if(this.formLogin.valid){const{email:r,password:o}=this.formLogin.value;this.authService.sendCredentials(r,o).subscribe({next:i=>{console.log("Sesi\xf3n iniciada con \xe9xito",i)},error:i=>{this.errorSession=!0,this.errorSessionMessage=403===i.status?"Correo electr\xf3nico o contrase\xf1a incorrectos.":"Ocurri\xf3 un error al intentar iniciar sesi\xf3n. Por favor, int\xe9ntelo de nuevo.",console.error("Error al iniciar sesi\xf3n",i)}})}else console.error("El formulario no es v\xe1lido")}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(p.e))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-login-page"]],decls:32,vars:5,consts:[[1,"container"],[1,"image-container"],[1,"form-wrapper"],[1,"form-container",3,"formGroup","ngSubmit"],[1,"container-title"],["src","assets/images/vehigo-high-resolution-logo-black-transparent.png","alt","",1,"icon-primary"],[1,"mb-3"],["for","email",1,"form-label"],["formControlName","email","placeholder","Direcci\xf3n de correo","id","exampleInputEmail1",1,"form-control"],["class","error-message",4,"ngIf"],["for","password",1,"form-label"],["formControlName","password","type","password","placeholder","Contrase\xf1a","id","exampleInputPassword1",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","termsCheck","formControlName","terms",1,"form-check-input"],["for","termsCheck",1,"form-check-label"],[1,"btn","btn-primary",3,"disabled"],["class","alert alert-danger",4,"ngIf"],[1,"mt-3"],["routerLink","/auth/register"],["routerLink","/home/main"],[1,"error-message"],[1,"alert","alert-danger"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"form",3),e.NdJ("ngSubmit",function(){return i.sendLogin()}),e.TgZ(4,"div",4)(5,"h1"),e._uU(6,"Iniciar Sesi\xf3n"),e.qZA(),e._UZ(7,"img",5),e.qZA(),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Correo"),e.qZA(),e._UZ(11,"input",8),e.YNc(12,f,2,0,"div",9),e.qZA(),e.TgZ(13,"div",6)(14,"label",10),e._uU(15,"Contrase\xf1a"),e.qZA(),e._UZ(16,"input",11),e.YNc(17,h,2,0,"div",9),e.qZA(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.TgZ(20,"label",14),e._uU(21,"Confirmar"),e.qZA()(),e.TgZ(22,"button",15),e._uU(23,"Iniciar sesi\xf3n"),e.qZA(),e.YNc(24,b,2,1,"div",16),e.TgZ(25,"div",17),e._uU(26," \xbfNo est\xe1s registrado? "),e.TgZ(27,"a",18),e._uU(28,"Reg\xedstrate aqu\xed"),e.qZA()(),e.TgZ(29,"div",17)(30,"a",19),e._uU(31,"Regresar a la p\xe1gina principal"),e.qZA()()()()()),2&o){let s,l;e.xp6(3),e.Q6J("formGroup",i.formLogin),e.xp6(9),e.Q6J("ngIf",(null==(s=i.formLogin.get("email"))?null:s.invalid)&&(null==(s=i.formLogin.get("email"))?null:s.touched)),e.xp6(5),e.Q6J("ngIf",(null==(l=i.formLogin.get("password"))?null:l.invalid)&&(null==(l=i.formLogin.get("password"))?null:l.touched)),e.xp6(5),e.Q6J("disabled",!i.formLogin.valid),e.xp6(2),e.Q6J("ngIf",i.errorSession)}},dependencies:[u.O5,m.rH,t._Y,t.Fj,t.Wl,t.JJ,t.JL,t.sg,t.u],styles:[".container[_ngcontent-%COMP%]{display:flex;height:100vh;width:100vw}.image-container[_ngcontent-%COMP%]{flex:0 0 60%;background:url(vehigo-high-resolution-logo.c008ad7d5aec97be.png) no-repeat center center;background-size:contain}.form-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:1px}.form-container[_ngcontent-%COMP%]{width:100%;background-color:#ffffff80;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a;display:flex;flex-direction:column;justify-content:center;align-items:stretch}.form-content[_ngcontent-%COMP%]{width:40%;display:flex;justify-content:center;align-items:center}.icon-primary[_ngcontent-%COMP%]{width:30%}form[_ngcontent-%COMP%]{background-color:#ffffff80;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:100%}.form-label[_ngcontent-%COMP%]{color:#333;font-weight:700}.form-control[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:4px;padding:10px;margin-bottom:15px}.form-text[_ngcontent-%COMP%]{color:#6c757d;font-size:.875em}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff;padding:10px 15px;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}.form-check-input[_ngcontent-%COMP%]{margin-right:5px}.form-check-label[_ngcontent-%COMP%]{color:#333}.mb-3[_ngcontent-%COMP%]{margin-bottom:16px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:solid 2px rgba(239,48,48,.335)!important}.container-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:700}.container-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40%}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.5rem}"]})}return n})();var _=a(8505),C=a(2340),x=a(529);let Z=(()=>{class n{constructor(r,o){this.http=r,this.router=o,this.URL=C.N.api}sendRegistrationCredentials(r,o,i,s,l){return this.http.post(`${this.URL}/auth/register`,{firstName:r,lastName:o,phone:i,email:s,password:l},{responseType:"text"}).pipe((0,_.b)(T=>{this.router.navigate(["/auth/login"])}))}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(x.eN),e.LFG(m.F0))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function w(n,c){if(1&n&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&n){const r=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.getErrorMessage(r.for)," ")}}function M(n,c){if(1&n&&(e.TgZ(0,"div",13)(1,"label",16),e._uU(2),e.qZA(),e._UZ(3,"input",17),e.YNc(4,w,2,1,"div",11),e.qZA()),2&n){const r=c.$implicit,o=e.oxw();e.xp6(1),e.Q6J("for",r.for),e.xp6(1),e.Oqu(r.name),e.xp6(1),e.Q6J("type",r.type)("id",r.for)("formControlName",r.for),e.uIk("aria-describedby",r.help),e.xp6(1),e.Q6J("ngIf",o.formRegister.controls[r.for].invalid&&o.formRegister.controls[r.for].touched)}}function y(n,c){1&n&&(e.TgZ(0,"div",18),e._uU(1," Debes aceptar los t\xe9rminos y condiciones para continuar. "),e.qZA())}const P=[{path:"",children:[{path:"login",component:v},{path:"register",component:(()=>{class n{constructor(r){this.registerAuth=r,this.errorRegister=!1,this.formRegister=new t.cw({}),this.mainMenu={defaultOptions:[],titleButton:[]}}ngOnInit(){this.formRegister=new t.cw({firstName:new t.NI("",[t.kI.required,t.kI.minLength(3),t.kI.maxLength(12)]),lastName:new t.NI("",[t.kI.required,t.kI.minLength(3),t.kI.maxLength(12)]),phone:new t.NI("",[t.kI.required,t.kI.minLength(9),t.kI.maxLength(15),t.kI.pattern("^[0-9]*$")]),email:new t.NI("",[t.kI.required,t.kI.email]),password:new t.NI("",[t.kI.required,t.kI.minLength(6),t.kI.maxLength(12)]),terms:new t.NI(!1,t.kI.requiredTrue)}),this.mainMenu.defaultOptions=[{name:"Primer Nombre",for:"firstName",type:"text",help:"firstNameHelp"},{name:"Apellido",for:"lastName",type:"text",help:"lastNameHelp"},{name:"Tel\xe9fono",for:"phone",type:"tel",help:"phoneHelp"},{name:"Correo Electr\xf3nico",for:"email",type:"email",help:"emailHelp"},{name:"Contrase\xf1a",for:"password",type:"password",help:""}],this.mainMenu.titleButton=[{name:"Registrate"},{name:"Enviar",style:"btn btn-primary w-100"},{name:"Acepto los t\xe9rminos y condiciones"}]}sendRegister(){const{firstName:r,lastName:o,phone:i,email:s,password:l}=this.formRegister.value;this.registerAuth.sendRegistrationCredentials(r,o,i,s,l).subscribe(g=>{console.log("Registro completado con exito ",g)},g=>{this.errorRegister=!0,console.log("Error al iniciar sesion",g)})}getErrorMessage(r){const o=this.formRegister.get(r);return o?.errors?.required?"Este campo es obligatorio.":o?.errors?.email?"Por favor, introduce una direcci\xf3n de correo electr\xf3nico v\xe1lida.":o?.errors?.minlength?`Longitud m\xednima esperada ${o.errors.minlength.requiredLength}.`:o?.errors?.maxlength?`Longitud m\xe1xima esperada ${o.errors.maxlength.requiredLength}.`:o?.errors?.pattern?"Por favor, introduce solo n\xfameros.":""}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(Z))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-register-page"]],decls:23,vars:9,consts:[[1,"container","mt-5"],[1,"row","align-items-center","justify-content-center",2,"min-height","100vh"],[1,"col-lg-7"],["src","assets/images/vehigo-high-resolution-logo-transparent.png","alt","Logo de VehiGO",1,"img-fluid"],[1,"col-lg-5"],[1,"p-4","rounded","shadow","bg-light",3,"formGroup","ngSubmit"],[1,"mb-4","text-center"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3","form-check"],["type","checkbox","id","terms","formControlName","terms",1,"form-check-input"],["for","terms",1,"form-check-label"],["class","error-message",4,"ngIf"],["type","submit",3,"disabled"],[1,"mb-3"],["routerLink","/auth/login"],["routerLink","/home/main"],[1,"form-label",3,"for"],[1,"form-control",3,"type","id","formControlName"],[1,"error-message"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4)(5,"form",5),e.NdJ("ngSubmit",function(){return i.sendRegister()}),e.TgZ(6,"h1",6),e._uU(7),e.qZA(),e.YNc(8,M,5,7,"div",7),e.TgZ(9,"div",8),e._UZ(10,"input",9),e.TgZ(11,"label",10),e._uU(12),e.qZA(),e.YNc(13,y,2,0,"div",11),e.qZA(),e.TgZ(14,"button",12),e._uU(15),e.qZA(),e.TgZ(16,"div",13),e._uU(17," \xbfDeseas iniciar sesion? "),e.TgZ(18,"a",14),e._uU(19,"Inicia sesion aqu\xed"),e.qZA()(),e.TgZ(20,"div",13)(21,"a",15),e._uU(22,"Regresar a la p\xe1gina principal"),e.qZA()()()()()()),2&o&&(e.xp6(5),e.Q6J("formGroup",i.formRegister),e.xp6(2),e.Oqu(null==i.mainMenu.titleButton[0]?null:i.mainMenu.titleButton[0].name),e.xp6(1),e.Q6J("ngForOf",i.mainMenu.defaultOptions),e.xp6(4),e.Oqu(null==i.mainMenu.titleButton[2]?null:i.mainMenu.titleButton[2].name),e.xp6(1),e.Q6J("ngIf",i.formRegister.controls.terms.invalid&&i.formRegister.controls.terms.touched),e.xp6(1),e.Tol(null==i.mainMenu.titleButton[1]?null:i.mainMenu.titleButton[1].style),e.Q6J("disabled",!i.formRegister.valid),e.xp6(1),e.Oqu(null==i.mainMenu.titleButton[1]?null:i.mainMenu.titleButton[1].name))},dependencies:[u.sg,u.O5,m.rH,t._Y,t.Fj,t.Wl,t.JJ,t.JL,t.sg,t.u],styles:[".container[_ngcontent-%COMP%]{max-width:80%}.img-fluid[_ngcontent-%COMP%]{max-height:100%}form[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;width:80%;margin:auto}.form-label[_ngcontent-%COMP%]{font-weight:700}.form-control[_ngcontent-%COMP%]{border:1px solid #ced4da}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0062cc}.form-control.ng-valid.ng-touched[_ngcontent-%COMP%]{border:1px solid #ced4da}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid #dc3545}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #dc354540}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875em;margin-top:.25rem}"]})}return n})()}]},{path:"**",redirectTo:"login"}];let I=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(P),m.Bz]})}return n})(),k=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[u.ez,I,t.UX]})}return n})()}}]);